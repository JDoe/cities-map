/*! cities-map - v0.0.1 - 2013-11-14
* https://github.com/TheDahv/cities-map
* Copyright (c) 2013 David Pierce; Licensed MIT */
(function(t,i){i["true"]=t,function(t,i){var a=t.CitiesMap=t.CitiesMap||{},e=a.Data={};e.loadCitiesData=function(t){var a,e;return t=t||{},a={urlBase:"http://swoop.startupweekend.org"},e=i.extend(a,t),i.get(""+e.urlBase+"/cities")}}(window,jQuery),function(t){var i,a=window.google,e=t.CitiesMap=t.CitiesMap||{},n=e.MapApi=function(t,i){return this.mapContainer=t,this.options=i||{},this.mapRef=null,this.mapPoints=[],this.writeMapToElement(),this};i=a&&a.maps?a.maps:void 0,i===void 0?window.alert("The Google Maps API is not available at this time. Please try again later"):(n.prototype.writeMapToElement=function(){var t,a,e=this.options,n=this.mapContainer;return e=e||{},a=e.width||n.data("width")||600,t=e.height||n.data("height")||400,e.center=new i.LatLng(-34.397,150.644),e.zoom=8,e.mapTypeId=i.MapTypeId.ROADMAP,n.css("width",a),n.css("height",t),this.mapRef=new i.Map(n[0],e),this.mapRef},n.prototype.createCityPoint=function(t){var a=new i.Marker({map:this.mapRef,position:new i.LatLng(t.location[0],t.location[1])});return a.on("click",this.showCityInfo),this.mapPoints.push(a),a}),n.prototype.showCityInfo=function(t){var i=t.target;return t.stop(),i}}(window),function(t,i){var a=i.Data;t.fn.citiesmap=function(){var e=t(this),n=a.loadCitiesData();n.error(function(t){window.alert(t)}),n.success(function(t){var a=new i.MapApi(e);t.forEach(a.createCityPoint)})}}(jQuery,CitiesMap)})({},function(){return this}());